<aura:component description="ZK_SingleProductDiscountCreator"
                controller="ZK_DiscountManagerController">

    <aura:attribute name="discountId" type="Id"/>
    <aura:attribute name="discountValue" type="Decimal"/>
    <aura:attribute name="products" type="Object[]"/>
    <aura:attribute name="selectedProducts" type="Object[]"/>

    <lightning:overlayLibrary aura:id="overlayLibInner"/>

    <aura:registerEvent name="ZK_DiscountsChanged" type="c:ZK_DiscountsChanged"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:handler name="productSelected" event="c:ZK_DiscountProductSelected" action="{!c.onDiscountProductSelected}"/>

    <aura:html tag="style">
        .cuf-content {
        padding: 0 0rem !important;
        }
        .slds-p-around--medium {
        padding: 0rem !important;
        }
        .slds-modal__content {
        height: unset !important;
        max-height: unset !important;
        }
    </aura:html>

    <div class="slds-p-around_small">

        <div class="slds-grid_vertical">
            <lightning:input value="{!v.discountValue}" label="Discount Value (%)" placeholder="e.g. 25%"/>

            <div class="slds-grid slds-wrap">
                <aura:iteration items="{!v.products}" var="product">
                    <div class="slds-size_1-of-3">
                        <c:ZK_DiscountCreatorProduct productData="{!product}"
                                                     discountId="{!v.discountId}"
                                                     selectedProducts="{!v.selectedProducts}"/>
                    </div>
                </aura:iteration>
            </div>
        </div>

    </div>

</aura:component>
